<div class="container">
  <h1>Cadastro de Alunos</h1>

  <form (ngSubmit)="salvarAluno()" #alunoForm="ngForm" class="formulario">
    <mat-form-field appearance="outline">
      <mat-label>Nome</mat-label>
      <input matInput required [(ngModel)]="aluno.nome" name="nome">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>E-mail</mat-label>
      <input matInput required type="email" [(ngModel)]="aluno.email" name="email">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>CPF</mat-label>
      <input
        matInput
        mask="000.000.000-00"
        placeholder="000.000.000-00"
        [(ngModel)]="aluno.cpf"
        name="cpf">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Data de Nascimento</mat-label>
      <input
        matInput
        type="text"
        mask="00/00/0000"
        placeholder="DD/MM/AAAA"
        [(ngModel)]="aluno.nascimento"
        name="nascimento">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Telefone</mat-label>
      <input
        matInput
        type="text"
        mask="(00) 0000-0000"
        placeholder="(00) 0000-0000"
        [(ngModel)]="aluno.telefone"
        name="telefone">
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Celular</mat-label>
      <input
        matInput
        type="text"
        mask="(00) 00000-0000"
        placeholder="(00) 00000-0000"
        [(ngModel)]="aluno.celular"
        name="celular">
    </mat-form-field>


    <div class="botoes">
      <button mat-raised-button color="accent" type="submit">
        {{ editando ? 'Salvar' : 'Adicionar' }}
      </button>
      <button mat-raised-button color="warn" type="button" (click)="cancelar()">Cancelar</button>
    </div>
  </form>

  <div class="tabela-container mat-elevation-z8" *ngIf="alunos.length > 0; else semDados">
    <table mat-table [dataSource]="alunos">

    
      <ng-container matColumnDef="nome">
        <th mat-header-cell *matHeaderCellDef>Nome</th>
        <td mat-cell *matCellDef="let aluno">{{ aluno.nome }}</td>
      </ng-container>

    
      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef>E-mail</th>
        <td mat-cell *matCellDef="let aluno">{{ aluno.email }}</td>
      </ng-container>

      
      <ng-container matColumnDef="cpf">
        <th mat-header-cell *matHeaderCellDef>CPF</th>
        <td mat-cell *matCellDef="let aluno">{{ aluno.cpf | mask: '000.000.000-00' }}
        </td>
      </ng-container>

      
      <ng-container matColumnDef="nascimento">
        <th mat-header-cell *matHeaderCellDef>Nascimento</th>
        <td mat-cell *matCellDef="let aluno">{{ aluno.nascimento | mask: '00/00/0000' }}
        </td>
      </ng-container>

      
      <ng-container matColumnDef="telefone">
        <th mat-header-cell *matHeaderCellDef>Telefone</th>
        <td mat-cell *matCellDef="let aluno">{{ aluno.telefone | mask: '(00) 0000-0000' }}</td>
      </ng-container>

      
      <ng-container matColumnDef="celular">
        <th mat-header-cell *matHeaderCellDef>Celular</th>
        <td mat-cell *matCellDef="let aluno">{{ aluno.celular | mask: '(00) 00000-0000' }}</td>
      </ng-container>


      
      <ng-container matColumnDef="acoes">
        <th mat-header-cell *matHeaderCellDef class="center">Ações</th>
        <td mat-cell *matCellDef="let aluno; let i = index" class="center">
          <button mat-icon-button color="primary" matTooltip="Editar" (click)="editar(i)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" matTooltip="Excluir" (click)="remover(i)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="colunas"></tr>
      <tr mat-row *matRowDef="let row; columns: colunas;"></tr>
    </table>
  </div>

  <ng-template #semDados>
    <div class="sem-dados">Nenhum aluno cadastrado.</div>
  </ng-template>
</div>
